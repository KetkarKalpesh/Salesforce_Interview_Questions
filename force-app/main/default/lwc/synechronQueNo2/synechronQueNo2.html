<!--
  @description       : 
  @author            : Shantanu Rajurkar
  @group             : 
  @last modified on  : 05-25-2025
  @last modified by  : Shantanu Rajurkar
-->

<!--
Problem Statement:
Without using any Apex Controller, build a Lightning Web Component that fetches Opportunities related to an Account. 
Only show those created in the last 90 days, and highlight the 'Closed Won' ones!
-->
<template>
    <lightning-card title="Recent Opportunities (last 90 days)">
      <template if:true={oppData}>
        <div class="slds-grid slds-wrap">
          <template for:each={oppData} for:item="opp">
            <div key={opp.Id} class="slds-col slds-size_1-of-1 slds-p-around_x-small">
              <div class={opp.StatusClass}>
                <p><strong>{opp.Name}</strong></p>
                <p>Close Date: {opp.FormattedDate}</p>
                <p>Stage: {opp.StageName}</p>
              </div>
            </div>
          </template>
        </div>
      </template>
      <template if:true={error}>
        <c-error-panel errors={error}></c-error-panel>
      </template>
    </lightning-card>
  </template>